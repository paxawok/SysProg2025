# Звіт

**Тема:** Паралелізм даних і задач. Використання бібліотеки TPL (.NET)

**Виконане завдання:** Створення та запуск двох паралельних задач та використання методу Parallel.Invoke() з лямбда-виразами.

## 1. Теоретична частина

Паралелізм дозволяє одночасно виконувати кілька завдань, що покращує швидкість роботи програм. Для зручності створення паралельних задач у .NET використовується Task Parallel Library (TPL), яка базується на класі `Task` (а не на класі `Thread`).

### Основні поняття:
- **Задача (Task)** — абстракція, що представляє асинхронну операцію.
- **Методи створення задач:**
  - Конструктор `new Task(Action дія)` і метод `Start()`.
  - `Task.Factory.StartNew()` створює та відразу запускає задачу.
- `Parallel.Invoke()` запускає декілька задач паралельно.
- Метод `Wait()` призупиняє основний потік до завершення задачі.
- Методи `WaitAll()` та `WaitAny()` використовуються для очікування завершення кількох задач.

## 2. Практична частина

### Реалізація задач

Було створено дві паралельні задачі з використанням бібліотеки TPL та лямбда-виразів:

- Задача 1: лічильник з паузою 200 мс.
- Задача 2: лічильник з паузою 200 мс.

Обидві задачі виконувались одночасно, що демонструє паралелізм.

```csharp
Task task1 = Task.Factory.StartNew(() => {
    for (int i = 0; i < 5; i++) {
        Thread.Sleep(200);
        Console.WriteLine($"Task 1, counter: {i}");
    }
});

Task task2 = Task.Factory.StartNew(() => {
    for (int i = 0; i < 5; i++) {
        Thread.Sleep(200);
        Console.WriteLine($"Task 2, counter: {i}");
    }
});

Task.WaitAll(task1, task2);
```

- Використано метод `Parallel.Invoke()` для одночасного запуску лямбда-задач:

```csharp
Parallel.Invoke(
    () => { Console.WriteLine("Invoke task 1"); },
    () => { Console.WriteLine("Invoke task 2"); }
);
```

## 3. Результати роботи

### Вивід програми:
```
Main Thread is starting.
Task 8, counter = 0
Task 9, iteration 0
Task 8, counter = 1
Task 9, iteration 1
Task 8, counter = 2
Task 9, iteration 2
Task 8, counter = 3
Task 9, iteration 3
Task 8, counter = 4
Task 8 is done.
Task 9, iteration 4
Tasks 1 and 2 completed.

Lambda Task 1 is starting.
Lambda Task 2 is starting.
Lambda Task 1 is done.
Lambda Task 2 is done.
All tasks done.
```

### Аналіз результатів:
- Задачі виконувалися паралельно, що демонструє почерговий вивід у консоль.
- Обидва завдання завершились успішно.
- Використання лямбда-задач з методом `Parallel.Invoke()` підтвердило ефективність бібліотеки TPL.

## 4. Висновки:
- Використання TPL робить програмування багатопоточних додатків простішим та ефективнішим.
- Методи, що надає TPL, дозволяють легко керувати паралельним виконанням задач.
- Лямбда-вирази є зручним інструментом для швидкого створення анонімних задач у паралельних обчисленнях.

---

_Роботу виконав: Черевач Юрій_

